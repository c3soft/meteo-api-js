<!DOCTYPE html>
<html lang="en">

<head>
    <title>Météo</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">
    <!-- https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.9/css/weather-icons.min.css -->
</head>

<body>
    <section id="app">
            <div id="result"></div>
        <h2>
            <span id="city">City</span>
            <span class="tooltip">Enter a new city</span>
        </h2>
        <i class="wi wi-day-hail" id="icons"></i>
        <h3>
            <span id="temperature">25</span> °C (<span id="conditions">Description</span>)
        </h3>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', init, false);

        function init() {
            adsBlocked(function (blocked) {
                if (blocked) {
                    document.getElementById('result').innerHTML = 'ads are blocked';
                } else {
                    document.getElementById('result').innerHTML = 'ads are not blocked';
                }
            })
        }

        function adsBlocked(callback) {
            var testURL = ' https://googleads.g.doubleclick.net/pagead/id'

            var myInit = {
                method: 'HEAD',
                mode: 'no-cors'
            };

            var myRequest = new Request(testURL, myInit);

            fetch(myRequest).then(function (response) {
                return response;
            }).then(function (response) {
                console.log(response);
                callback(false)
            }).catch(function (e) {
                console.log(e)
                callback(true)
            });
        }
    </script>



    <script src="./app.js"></script>


</body>

</html>