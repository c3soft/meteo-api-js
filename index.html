<!DOCTYPE html>
<html lang="en">

<head>
  <title>Météo</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css" />
  <!-- https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.9/css/weather-icons.min.css -->
</head>

<body>
  <header>
    <div class="adblock" id="adblock"></div>
  </header>
  <section id="app">
    <h2>
        <span class="tooltip">Enter an other city</span>
      <span id="city">paris</span>
    </h2>
    <i class="wi wi-day-hail" id="icons"></i>
    <h3>
      <span id="temperature"></span> °C (<span id="conditions">Description</span>)
    </h3>
    <div class="minMax">
      <h3 class = "tempMax">Maxi: <span id="tempMax"></span> °C</h3>
      <h3 class = "tempMin">Mini: <span id="tempMin"></span> °C</h3>
    </div>
  </section>
  <script>
    document.addEventListener("DOMContentLoaded", init, false);

    function init() {
      adsBlocked(function (blocked) {
        if (blocked) {
          document.getElementById("adblock").innerHTML = "Adblock detected";
        } else {
          document.getElementById("adblock").innerHTML = "Adblock is not blocked";
        }
      });
    }

    function adsBlocked(callback) {
      var testURL = " https://googleads.g.doubleclick.net/pagead/id";

      var myInit = {
        method: "HEAD",
        mode: "no-cors"
      };

      var myRequest = new Request(testURL, myInit);

      fetch(myRequest)
        .then(function (response) {
          return response;
        })
        .then(function (response) {
          console.log(response);
          callback(false);
        })
        .catch(function (e) {
          console.log(e);
          callback(true);
        });
    }
  </script>

  <script src="./app.js"></script>
</body>

</html>